{"version":3,"sources":["common/sidebar.js"],"names":["$","on","e","console","log","undefined","target","closest","tagName","$sidebar","$sidebarLeft","parseInt","css","animate","left","marginLeft","window","$sidebarWidth","jQuery"],"mappings":"CAAA,SAAUA,IAON,WACIA,EAAE,QAEDC,GAAG,QAAS,yBAA0B,SAASC,GAK5C,GADAC,QAAQC,QAAoCC,KAAhCL,EAAEE,EAAEI,QAAQC,QAAQ,KAAK,IACV,MAArBL,EAAEI,OAAOE,aAAsDH,KAAhCL,EAAEE,EAAEI,QAAQC,QAAQ,KAAK,GAAmB,CAC7E,GAAIE,UAAWT,EAAE,YACbU,aAAeC,SAASF,SAASG,IAAI,QAGzC,IAFiBD,SAASX,EAAE,QAAQY,IAAI,UAEvB,IACb,OAAO,CAGX,IAAqB,IAAjBF,aAgBA,OAAO,CAdPV,GAAE,YAAYa,SACVC,MAAO,KACR,UAEHd,EAAE,iBAAiBa,SACfE,WAAY,GAEb,UAEHf,EAAE,WAAWa,SACTE,WAAY,GACb,aASdd,GAAG,QAAS,oBAAqB,WAC9B,GAAIQ,UAAWT,EAAE,YACbU,aAAeC,SAASF,SAASG,IAAI,QAGzC,IAFiBD,SAASX,EAAE,QAAQY,IAAI,UAEvB,IACb,OAAO,CAGX,KAAsB,MAAlBF,aAEAV,EAAE,YAAYa,SACVC,KAAM,GACP,UAEHd,EAAE,iBAAiBa,SACfE,WAAY,KACb,UAEHf,EAAE,WAAWa,SACTE,WAAY,KACb,cAEA,CAAA,GAAqB,IAAjBL,aAeP,OAAO,CAbPV,GAAE,YAAYa,SACVC,MAAO,KACR,UAEHd,EAAE,iBAAiBa,SACfE,WAAY,GACb,UAEHf,EAAE,WAAWa,SACTE,WAAY,GACb,aAQXf,EAAEgB,QAAQf,GAAG,SAAU,WACnB,GAAIQ,UAAWT,EAAE,YACbU,aAAeC,SAASF,SAASG,IAAI,SACrCK,cAAgBN,SAASF,SAASG,IAAI,SACzBD,UAASX,EAAE,QAAQY,IAAI,UAGvB,KAAwB,IAAjBF,eAAyC,MAAlBO,eAA2C,MAAlBA,iBACpEd,QAAQC,IAAIa,eACZjB,EAAE,YAAYa,SACVC,MAAO,KACR,UAEHd,EAAE,iBAAiBa,SACfE,WAAY,GACb,UAEHf,EAAE,WAAWa,SACTE,WAAY,GACb,iBAQhBG","file":"sidebar.js","sourcesContent":["(function($) {\r\n\r\n    function init() {\r\n\r\n    }\r\n\r\n\r\n    function bindEvent() {\r\n        $('body')\r\n        // 点击页面上的空白区域隐藏sidebar\r\n        .on('click', '#main-content, #header', function(e) {\r\n\r\n            // 判断点击的元素和其祖先元素是否是超链接，当不是超链接时才执行\r\n\r\n            console.log($(e.target).closest('a')[0] !== undefined);\r\n            if (!(e.target.tagName === 'A') && !($(e.target).closest('a')[0] !== undefined)) {\r\n                var $sidebar = $('#sidebar');\r\n                var $sidebarLeft = parseInt($sidebar.css('left'));\r\n                var $pageWidth = parseInt($('body').css('width'));\r\n\r\n                if ($pageWidth > 767) {\r\n                    return false;\r\n                }\r\n                \r\n                if ($sidebarLeft === 0) {\r\n\r\n                    $('#sidebar').animate({\r\n                        left: -250\r\n                    }, 'normal');\r\n\r\n                    $('#main-content').animate({\r\n                        marginLeft: 0\r\n                        // width: $pageWidth\r\n                    }, 'normal');\r\n\r\n                    $('#header').animate({\r\n                        marginLeft: 0\r\n                    }, 'normal');\r\n\r\n                } else {\r\n                    return false;\r\n                }\r\n\r\n            }   \r\n        })\r\n        // 显示隐藏sidebar\r\n        .on('click', '#btn-open-sidebar', function() {\r\n            var $sidebar = $('#sidebar');\r\n            var $sidebarLeft = parseInt($sidebar.css('left'));\r\n            var $pageWidth = parseInt($('body').css('width'));\r\n\r\n            if ($pageWidth > 767) {\r\n                return false;\r\n            }\r\n            \r\n            if ($sidebarLeft === -250) {\r\n\r\n                $('#sidebar').animate({\r\n                    left: 0\r\n                }, 'normal');\r\n\r\n                $('#main-content').animate({\r\n                    marginLeft: 250\r\n                }, 'normal');\r\n\r\n                $('#header').animate({\r\n                    marginLeft: 250\r\n                }, 'normal');\r\n\r\n            } else if ($sidebarLeft === 0) {\r\n\r\n                $('#sidebar').animate({\r\n                    left: -250\r\n                }, 'normal');\r\n\r\n                $('#main-content').animate({\r\n                    marginLeft: 0\r\n                }, 'normal');\r\n\r\n                $('#header').animate({\r\n                    marginLeft: 0\r\n                }, 'normal');\r\n\r\n            } else {\r\n                return false;\r\n            }\r\n        });\r\n\r\n        // 调整页面尺寸时做一次把sidebar还原的操作(不这样做会导致布局异常)\r\n        $(window).on('resize', function() {\r\n            var $sidebar = $('#sidebar');\r\n            var $sidebarLeft = parseInt($sidebar.css('left'));\r\n            var $sidebarWidth = parseInt($sidebar.css('width'));\r\n            var $pageWidth = parseInt($('body').css('width'));\r\n            \r\n            // 233是带滚动条的sidebar宽度\r\n            if ($pageWidth < 767 && $sidebarLeft === 0 && ($sidebarWidth === 250 || $sidebarWidth === 233)) {\r\n                console.log($sidebarWidth);\r\n                $('#sidebar').animate({\r\n                    left: -250\r\n                }, 'normal');\r\n\r\n                $('#main-content').animate({\r\n                    marginLeft: 0\r\n                }, 'normal');\r\n\r\n                $('#header').animate({\r\n                    marginLeft: 0\r\n                }, 'normal');\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    init();\r\n    bindEvent();\r\n})(jQuery);"]}